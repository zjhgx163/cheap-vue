"use strict";(self["webpackChunkcheap_quasar"]=self["webpackChunkcheap_quasar"]||[]).push([[416],{22416:function(t,e,n){n.r(e),n.d(e,{default:function(){return P}});var s=n(59835),i=n(86970),a={class:"YL__750w"},l={key:0,class:"column items-center justify-start absolute-full"},r={class:"clo-4 YL__no_data"},o=(0,s._)("div",{class:"text-subtitle2 text-center text-grey"},"~空空如也~",-1),u=(0,s._)("div",{class:"col-3"},null,-1),c={key:1,ref:"scrollTargetRef",class:"bg-primary"},d=["src"],m=(0,s._)("span",{class:"text-grey-7"},"订单号：",-1),f={class:"col-4"},g=(0,s._)("span",{class:"text-grey-7"},"商城：",-1),_={class:"col"},p=(0,s._)("span",{class:"text-grey-7"},"付款时间：",-1),h=(0,s._)("span",{class:"text-grey-7"},"记佣金额",-1),w=(0,s._)("span",{class:"text-grey-7"},"预估收入",-1),y=(0,s._)("span",{class:"text-grey-7"},"数量",-1),x=(0,s._)("span",{class:"text-grey-7"},"描述",-1),v={class:"row justify-center q-my-md"};function C(t,e,n,C,L,S){var W=(0,s.up)("q-img"),z=(0,s.up)("q-item-section"),q=(0,s.up)("q-item-label"),b=(0,s.up)("q-chip"),k=(0,s.up)("q-item"),I=(0,s.up)("q-list"),D=(0,s.up)("q-pull-to-refresh"),Z=(0,s.up)("q-spinner-dots"),F=(0,s.up)("q-infinite-scroll"),Q=(0,s.up)("q-page"),T=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(Q,{class:"bg-primary column items-center",style:{width:"100%"}},{default:(0,s.w5)((function(){return[(0,s._)("div",a,[0===L.listData.length?((0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",r,[(0,s.Wm)(W,{src:"/static/no-data.png","spinner-color":"white"}),o]),u])):((0,s.wg)(),(0,s.iD)("div",c,[(0,s.Wm)(F,{onLoad:S.onLoad,offset:250,"initial-index":1,disable:S.disable},{loading:(0,s.w5)((function(){return[(0,s._)("div",v,[(0,s.Wm)(Z,{color:"accent",size:"40px"})])]})),default:(0,s.w5)((function(){return[(0,s.Wm)(D,{onRefresh:S.refresh,"no-mouse":""},{default:(0,s.w5)((function(){return[(0,s.Wm)(I,{separator:"",dense:"",class:"bg-primary q-mx-sm",id:"scroll-target-id",padding:""},{default:(0,s.w5)((function(){return[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(L.listData,(function(t){return(0,s.wg)(),(0,s.iD)("div",{key:t.id,class:"q-mb-sm bg-secondary"},[(0,s.wy)(((0,s.wg)(),(0,s.j4)(k,{class:(0,i.C_)([[S.itemPadding],"bg-secondary"]),dense:""},{default:(0,s.w5)((function(){return[(0,s.Wm)(z,{side:"","no-wrap":""},{default:(0,s.w5)((function(){return[(0,s._)("img",{src:null==t.itemImg?"/static/no-data.png":t.itemImg,class:"YL__order_img"},null,8,d)]})),_:2},1024),(0,s.Wm)(z,null,{default:(0,s.w5)((function(){return[(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.textSize,L.fontFamily,L.titleHeight])},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,i.zw)(t.itemTitle),1)]})),_:2},1032,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.smalltextSize,L.fontFamily])},{default:(0,s.w5)((function(){return[m,(0,s.Uk)((0,i.zw)(t.platformOrderNo),1)]})),_:2},1032,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([[L.smalltextSize,L.fontFamily],"row"])},{default:(0,s.w5)((function(){return[(0,s._)("div",f,[g,(0,s.Uk)((0,i.zw)(S.getMall(t.platform)),1)]),(0,s._)("div",_,[p,(0,s.Uk)((0,i.zw)(t.payTime),1)])]})),_:2},1032,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily])},{default:(0,s.w5)((function(){return[(0,s.Wm)(b,{dense:"",color:S.getStatusColor(t.status),"text-color":"white",size:"sm"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,i.zw)(S.getStatusText(t.status)),1)]})),_:2},1032,["color"])]})),_:2},1032,["class"])]})),_:2},1024)]})),_:2},1032,["class"])),[[T]]),(0,s.Wm)(k,null,{default:(0,s.w5)((function(){return[(0,s.Wm)(z,null,{default:(0,s.w5)((function(){return[(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[h]})),_:1},8,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,i.zw)(null!==t.actualCosAmount&&t.actualCosAmount>0?t.actualCosAmount:t.estimateCosAmount),1)]})),_:2},1032,["class"])]})),_:2},1024),(0,s.Wm)(z,null,{default:(0,s.w5)((function(){return[(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[w]})),_:1},8,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,i.zw)(null===t.userTotalCommissionAmount||0===t.userTotalCommissionAmount?t.userEstimateCommissionAmount:t.userTotalCommissionAmount),1)]})),_:2},1032,["class"])]})),_:2},1024),(0,s.Wm)(z,null,{default:(0,s.w5)((function(){return[(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[y]})),_:1},8,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,i.zw)(t.itemQuantity),1)]})),_:2},1032,["class"])]})),_:2},1024),(0,s.Wm)(z,{"no-wrap":""},{default:(0,s.w5)((function(){return[(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize])},{default:(0,s.w5)((function(){return[x]})),_:1},8,["class"]),(0,s.Wm)(q,{lines:1,class:(0,i.C_)([L.fontFamily,L.smalltextSize,S.getDescColor(t.status)])},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,i.zw)(t.statusRemark),1)]})),_:2},1032,["class"])]})),_:2},1024)]})),_:2},1024)])})),128))]})),_:1})]})),_:1},8,["onRefresh"])]})),_:1},8,["onLoad","disable"])],512))])]})),_:1})}n(56072),n(65716),n(61732),n(69665),n(11476),n(24972);var L=n(38346),S=(n(4845),n(17779)),W={name:"OrderView",data:function(){return{tab:"mails",listData:[],page:1,max:0,isBigScreen:!!L.Z.gt.sm,isNormal:!0,fontFamily:"YL__title_font_family",textAccent:"text-accent",titleHeight:"YL__title_height",isListEnd:!1,textSize:"YL__title_text",smalltextSize:"YL__small_text"}},props:["userId","status","type"],emits:["need-login"],computed:{itemPadding:function(){return this.isBigScreen?"q-py-md":"q-py-sm"},host:function(){return n.g.config.domain},disable:function(){return!!this.isListEnd},getStatusColor:function(){return function(t){return 1==t?"green":0==t?"blue":-1==t?"blue-grey-5":void 0}},getStatusText:function(){return function(t){return 1==t?"已结算":0==t?"未结算":-1==t?"无效":void 0}},getStatusTextColor:function(){return function(t){return"white"}},getMall:function(){return function(t){return 1==t?"淘宝":2==t?"京东":3==t?"拼多多":4==t?"美团":void 0}},getDescColor:function(){return function(t){return-1==t?"text-purple-5":"text-green-7 "}}},mounted:function(){if(S.log("orderList mounted"),this.$q.localStorage.has("userInfo")){var t=this.$q.localStorage.getItem("userInfo");S.log(t),void 0!==t&&null!==t&&(this.userName=t.nickname,this.isLogin=!0,null!=t.headimgurl&&""!=t.headimgurl&&(this.avatar=t.headimgurl,this.user=t.nickname))}S.log("userId = "+this.userId),this.getOrderList(this.userId,this.status,this.type)},activated:function(){S.log("orderList activated"),S.log("this.isListEnd ="+this.isListEnd),this.isListEnd=!1},methods:{getOrderList:function(t,e,s){var i=this;this.$q.loading.show({delay:400}),this.$axios.post("".concat(n.g.config.domain,"/order/list"),{userId:t,status:e,type:s,page:this.page}).then((function(t){S.log(t.data),t.data.code<0?-102==t.data.code?i.isWeixin()?window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxa249d330e183eb43&redirect_uri=https://".concat(n.g.config.domainPro,"/auth/xxx&response_type=code&scope=snsapi_userinfo&state=tool#wechat_redirect"):i.$emit("need-login"):i.$q.notify({type:"negative",icon:"warning",message:"".concat(t.data.msg)}):(i.listData=t.data.data.records,t.data.data.records.length<20&&(i.isListEnd=!0)),i.$q.loading.hide()}))},onLoad:function(t,e){var s=this;this.isBigScreen||setTimeout((function(){s.$axios.post("".concat(n.g.config.domain,"/order/list"),{userId:s.userId,status:s.status,type:s.type,page:t}).then((function(t){S.log(t.data.data.records),t.data.data.records.length<20&&(s.isListEnd=!0);var n=t.data.data.records.filter((function(t){var e=!1;for(var n in s.listData)if(s.listData[n].id==t.id){S.log("this id is duplicate,"+t.id),e=!0;break}return!e}));n.forEach((function(t){s.listData.push(t)})),S.log(s.listData),e()}))}),1e3)},isWeixin:function(){var t;return t=window.navigator.userAgent.toLowerCase(),S.log(t),"micromessenger"==t.match(/MicroMessenger/i)},refresh:function(t){var e=this;setTimeout((function(){e.getItemList(),t()}),1e3)}}},z=n(11639),q=n(69885),b=n(70335),k=n(86870),I=n(90699),D=n(13246),Z=n(490),F=n(76749),Q=n(33115),T=n(57691),A=n(50926),E=n(47501),U=n(51136),Y=n(69984),$=n.n(Y);const R=(0,z.Z)(W,[["render",C]]);var P=R;$()(W,"components",{QPage:q.Z,QImg:b.Z,QInfiniteScroll:k.Z,QPullToRefresh:I.Z,QList:D.Z,QItem:Z.Z,QItemSection:F.Z,QItemLabel:Q.Z,QChip:T.Z,QSeparator:A.Z,QSpinnerDots:E.Z}),$()(W,"directives",{Ripple:U.Z})}}]);