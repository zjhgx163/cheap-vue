"use strict";(self["webpackChunkcheap_quasar"]=self["webpackChunkcheap_quasar"]||[]).push([[399],{82399:function(e,t,n){n.r(t),n.d(t,{default:function(){return ue}});n(11476),n(55916),n(58839);var a=n(59835),i=n(86970),o=n(61957),r=(0,a._)("div",{class:"text-h6"},"返利提醒",-1),l=(0,a._)("strong",null,"均有返利",-1),s=(0,a._)("strong",null,"公众号个人中心菜单",-1),c=(0,a._)("strong",null,"个人中心菜单",-1),u=(0,a._)("strong",null,"商品订单",-1),d=(0,a._)("strong",null,"商品订单",-1),g={class:"col-auto col-sm-auto q-pa-xs"},f={class:"col-sm-4 gt-sm row flex-center"},h=["src"],m=(0,a._)("a",{class:"text-grey-9 text-weight-bold text-subtitle2"}," 登出",-1),p={class:"row YL__1200w"},_={class:"col"},w={key:0,class:"bg-secondary row justify-between q-pa-sm"},v={key:0,class:"col-4"},x=(0,a._)("div",{id:"banner_2_0"},null,-1),q={key:0,class:"YL__footer row justify-evenly YL__1200w q-pt-md"},b={class:"col-2 flex-center q-py-sm"},y=(0,a._)("div",{class:"col flex-center q-py-sm"},[(0,a._)("div",{class:"text-h6"},"关于"),(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-6 flex-center"},[(0,a._)("div",null,"宇宙第一性价比之王导购平台"),(0,a._)("div",null,[(0,a.Uk)("请"),(0,a._)("strong",null,"左边"),(0,a.Uk)("扫码关注公众号享受返利和其他服务")]),(0,a._)("div",null,"email: 82955503@qq.com")]),(0,a._)("div",{class:"col flex-center"},[(0,a._)("div",null,"Copyright © 2020 Hjdang.com All rights reserved."),(0,a._)("div",{class:"row q-gutter-md"},[(0,a._)("a",{target:"_blank",href:"https://beian.miit.gov.cn"},"浙ICP备2020040769号-1"),(0,a._)("a",{target:"_blank",href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33012702000426"},[(0,a._)("img",{src:"备案图标.png",style:{width:"12px",height:"12px"}}),(0,a.Uk)(" 浙公网安备 33012702000426号 ")])])])])],-1),k={key:1,class:"flex-center YL__notice"},W=(0,a._)("div",{class:"text-grey-5 q-px-sm text-caption row flex-center"},[(0,a.Uk)(" 请关注微信公众号"),(0,a._)("strong",null,"老胡为你服务"),(0,a.Uk)("享受返利和云盘资源服务 ")],-1),C=[W],Q=(0,a._)("div",{class:"text-subtitle1"},"微信扫码登陆",-1),L={class:"column flex-center",style:{width:"150px",height:"150px"}},S=(0,a._)("div",{class:"text-caption text-grey"},"打开微信扫一扫",-1),Z=(0,a._)("div",{class:"text-caption text-grey"},"关注公众号完成登陆",-1);function I(e,t,n,W,I,$){var U=(0,a.up)("q-space"),H=(0,a.up)("q-btn"),j=(0,a.up)("q-card-section"),D=(0,a.up)("q-card"),T=(0,a.up)("q-dialog"),V=(0,a.up)("q-img"),M=(0,a.up)("router-link"),B=(0,a.up)("q-spinner-facebook"),K=(0,a.up)("q-input"),N=(0,a.up)("q-btn-dropdown"),P=(0,a.up)("q-avatar"),Y=(0,a.up)("q-toolbar"),A=(0,a.up)("q-header"),F=(0,a.up)("q-route-tab"),O=(0,a.up)("q-tabs"),z=(0,a.up)("q-item-label"),R=(0,a.up)("q-item-section"),G=(0,a.up)("q-item"),E=(0,a.up)("q-list"),J=(0,a.up)("router-view"),X=(0,a.up)("q-page-container"),ee=(0,a.up)("q-footer"),te=(0,a.up)("q-separator"),ne=(0,a.up)("q-layout"),ae=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.j4)(ne,{view:"hHh lpR fFf",class:"bg-primary",style:{"min-height":"100vh"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(T,{"auto-close":"",modelValue:I.dialog,"onUpdate:modelValue":t[0]||(t[0]=function(e){return I.dialog=e})},{default:(0,a.w5)((function(){return[(0,a.Wm)(D,{class:"bg-light-green-5 text-white"},{default:(0,a.w5)((function(){return[(0,a.Wm)(j,{class:"row items-center q-pb-none q-pt-xs"},{default:(0,a.w5)((function(){return[r,(0,a.Wm)(U),(0,a.wy)((0,a.Wm)(H,{icon:"close",flat:"",round:"",dense:""},null,512),[[ae]])]})),_:1}),$.isWeixin()?((0,a.wg)(),(0,a.j4)(j,{key:0},{default:(0,a.w5)((function(){return[(0,a.Uk)(" ✌✌ 此页面京东，拼多多商品"),l,(0,a.Uk)("，购买前请先点击"),s,(0,a.Uk)("阅读注意事项。购买后请在"),c,(0,a.Uk)("下面的"),u,(0,a.Uk)("里查看订单。 ")]})),_:1})):((0,a.wg)(),(0,a.j4)(j,{key:1},{default:(0,a.w5)((function(){return[(0,a.Uk)(" 京东，拼多多商品均有返利，购买前请先点击用户名登陆进入用户中心查阅注意事项，购买后在用户中心下面的"),d,(0,a.Uk)("里查看订单 ")]})),_:1}))]})),_:1})]})),_:1},8,["modelValue"]),(0,a.Wm)(A,{class:"bg-primary text-grey-8 q-pb-xs YL__1200w"},{default:(0,a.w5)((function(){return[(0,a.Wm)(Y,{class:(0,i.C_)(["bg-secondary justify-around q-mb-xs",[$.itemPadding]])},{default:(0,a.w5)((function(){return[(0,a._)("div",g,[(0,a.Wm)(M,{to:{path:"/"}},{default:(0,a.w5)((function(){return[(0,a.Wm)(V,{src:"hjd.png","spinner-color":"white",width:$.logoWidth,height:$.logoHeight},null,8,["width","height"])]})),_:1})]),(0,a._)("div",{class:(0,i.C_)(["col col-sm-5 justify-center",{hidden:I.isSearchHidden}])},[(0,a._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((function(){return $.search&&$.search.apply($,arguments)}),["prevent"]))},[(0,a.Wm)(K,{ref:"searchInput","item-aligned":"",clearable:"",dense:"",filled:"",standout:"text-white",square:"",modelValue:I.searchKey,"onUpdate:modelValue":t[1]||(t[1]=function(e){return I.searchKey=e}),placeholder:"搜索",type:"search",onKeyup:(0,o.D2)($.search,["enter"])},{after:(0,a.w5)((function(){return[(0,a.Wm)(H,{name:"search",icon:"search",loading:I.isSearching,type:"submit",unelevated:"",onClick:$.onClick},{loading:(0,a.w5)((function(){return[(0,a.Wm)(B,{color:"accent"})]})),_:1},8,["loading","onClick"])]})),_:1},8,["modelValue","onKeyup"])],32)],2),(0,a._)("div",f,[(0,a.Wm)(N,{unelevated:"",flat:"",label:I.userName,onClick:$.clickUser},null,8,["label","onClick"]),(0,a.Wm)(P,{size:"2.5em"},{default:(0,a.w5)((function(){return[(0,a._)("img",{src:I.avatar},null,8,h)]})),_:1}),(0,a.Wm)(H,{unelevated:"",flat:"",class:(0,i.C_)({hidden:!I.isLogin}),onClick:$.logout},{default:(0,a.w5)((function(){return[m]})),_:1},8,["class","onClick"])])]})),_:1},8,["class"])]})),_:1}),(0,a.Wm)(X,{class:"bg-primary"},{default:(0,a.w5)((function(){return[(0,a._)("div",p,[(0,a._)("div",_,[e.$route.meta.isGoodsList?((0,a.wg)(),(0,a.iD)("div",w,[(0,a.Wm)(O,{modelValue:I.selectedTab,"onUpdate:modelValue":t[3]||(t[3]=function(e){return I.selectedTab=e}),dense:"",align:"left","active-color":"accent","indicator-color":"accent","content-class":"text-grey-10"},{default:(0,a.w5)((function(){return[(0,a.Wm)(F,{to:"/",label:"首页",name:"main"}),(0,a.Wm)(F,{to:"/cheap",label:"白菜",name:"cheap"}),(0,a.Wm)(F,{to:"/rank",label:"排行榜",name:"rank"})]})),_:1},8,["modelValue"]),(0,a.Wm)(N,{color:"secondary","text-color":"grey",flat:"",dense:"",label:I.sort},{default:(0,a.w5)((function(){return[(0,a.Wm)(E,null,{default:(0,a.w5)((function(){return[(0,a.wy)(((0,a.wg)(),(0,a.j4)(G,{clickable:"",onClick:$.sortClick,tabindex:"2"},{default:(0,a.w5)((function(){return[(0,a.Wm)(R,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{caption:""},{default:(0,a.w5)((function(){return[(0,a.Uk)("时间排序")]})),_:1})]})),_:1})]})),_:1},8,["onClick"])),[[ae]]),(0,a.wy)(((0,a.wg)(),(0,a.j4)(G,{clickable:"",onClick:$.sortClick,tabindex:"1"},{default:(0,a.w5)((function(){return[(0,a.Wm)(R,null,{default:(0,a.w5)((function(){return[(0,a.Wm)(z,{caption:""},{default:(0,a.w5)((function(){return[(0,a.Uk)("推荐排序")]})),_:1})]})),_:1})]})),_:1},8,["onClick"])),[[ae]])]})),_:1})]})),_:1},8,["label"])])):(0,a.kq)("",!0),(0,a.Wm)(J,null,{default:(0,a.w5)((function(t){var n=t.Component;return[((0,a.wg)(),(0,a.j4)(a.Ob,null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(n),{onLogined:$.logined,onSearchDone:$.searchDone,key:e.$route.fullPath,sort:I.sortIndex,ref:"goods-list"},null,40,["onLogined","onSearchDone","sort"]))],1024))]})),_:1})]),e.$q.platform.is.desktop||I.isBigScreen?((0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(J,{name:"hot"})])):(0,a.kq)("",!0)])]})),_:1}),x,(0,a.Wm)(ee,{bordered:"",reveal:"",class:"bg-dark text-white"},{default:(0,a.w5)((function(){return[e.$q.platform.is.desktop?((0,a.wg)(),(0,a.iD)("div",q,[(0,a._)("div",b,[(0,a.Wm)(V,{src:"/laohuweinifuwu.jpeg",class:"items-center justify-center",width:"100px",height:"100px"})]),y])):((0,a.wg)(),(0,a.iD)("div",k,C))]})),_:1}),(0,a.Wm)(T,{modelValue:I.loginCard,"onUpdate:modelValue":t[4]||(t[4]=function(e){return I.loginCard=e}),onHide:$.dialogHide},{default:(0,a.w5)((function(){return[(0,a.Wm)(D,{class:"YL__login_card"},{default:(0,a.w5)((function(){return[(0,a.Wm)(j,{class:"column flex-center q-pt-lg q-pb-sm"},{default:(0,a.w5)((function(){return[Q]})),_:1}),(0,a.Wm)(j,{class:"q-pt-none column flex-center"},{default:(0,a.w5)((function(){return[(0,a._)("div",L,[(0,a.Wm)(B,{color:"accent",size:"2em",class:(0,i.C_)({hidden:!I.isLoadingQr})},null,8,["class"]),(0,a.Wm)(V,{src:I.wechatQr,position:"50% 50%",class:(0,i.C_)(["flex-center",{hidden:I.isLoadingQr}]),width:"150px",height:"150px",fit:"cover"},null,8,["src","class"])])]})),_:1}),(0,a.Wm)(j,{class:"q-pt-none q-pb-lg column flex-center"},{default:(0,a.w5)((function(){return[S,Z]})),_:1}),(0,a.Wm)(te)]})),_:1})]})),_:1},8,["modelValue","onHide"])]})),_:1})}n(69665),n(52519),n(4845);var $=n(17779),U={name:"MainLayout",data:function(){return{searchKey:"",isSearching:!1,drawer:!1,host:n.g.config.domain,isBigScreen:!1,isSearchHidden:!1,isCouponHidden:!1,loginCard:!1,wechatQr:"",userName:"注册/登陆",timer:null,isLoadingQr:!1,isLogin:!1,avatar:"/static/not_login_user.png",selectedTab:"main",sort:"时间排序",sortIndex:2,dialog:!1}},computed:{itemPadding:function(){return this.$q.platform.is.desktop||this.isBigScreen?"q-py-none":"q-py-xs"},logoWidth:function(){return this.$q.platform.is.desktop?"110px":"90px"},logoHeight:function(){return this.$q.platform.is.desktop?"46.3px":"37.9px"}},created:function(){$.log("MainLayout created")},beforeMount:function(){$.log("MainLayout before mounted");var e=window.screen.width;e>1023.99&&(this.isBigScreen=!0)},mounted:function(){if($.log("MainLayout mounted"),this.dialog=!0,this.$q.localStorage.has("userInfo")){var e=this.$q.localStorage.getItem("userInfo");$.log(e),void 0!==e&&null!==e&&(this.userName=e.nickname,this.isLogin=!0,null!=e.headimgurl&&""!=e.headimgurl&&(this.avatar=e.headimgurl))}},watch:{$route:function(e,t){$.log("to = "+e.path),$.log("from = "+t.path),e.path.indexOf("coupon")>-1?(this.isSearchHidden=!0,this.isCouponHidden=!0):e.path.indexOf("detail")>-1?(this.isSearchHidden=!1,this.isCouponHidden=!0):(this.isSearchHidden=!1,this.isCouponHidden=!1)}},methods:{logined:function(e,t){this.userName=t,this.avatar=e,this.isLogin=!0},clickUser:function(){this.isLogin?this.$router.push({path:"/user"}):this.createWechatQr()},onClick:function(){this.search()},search:function(){this.isSearching=!0;var e=Math.random();this.$router.push({path:"search",name:"search",query:{q:this.searchKey,x:e}}).catch((function(e){}))},searchDone:function(){this.isSearching=!1},createWechatQr:function(){var e=this;this.loginCard=!0,this.isLoadingQr=!0,this.$axios.post("".concat(n.g.config.domain,"/wechat/createQr"),{}).then((function(t){if(e.isLoadingQr=!1,0==t.data.code){e.wechatQr=t.data.data.qrUrl;var a=new Date;e.timer=setInterval((function(){e.$axios.post("".concat(n.g.config.domain,"/user/getScanLoginInfo/").concat(t.data.data.sceneStr),{}).then((function(t){if(0==t.data.code)if(t.data.data.loginFlag)e.userName=t.data.data.nickname,e.avatar=t.data.data.avatar,e.isLogin=!0,e.$q.localStorage.set("userInfo",t.data.data),clearInterval(e.timer),e.loginCard=!1;else{var n=new Date;n.getTime()-a.getTime()>6e5&&($.log("二维码过期"),clearInterval(e.timer),e.$q.notify({type:"negative",message:"二维码已过期，2秒后跳转页面"}),setTimeout((function(){e.$router.push({path:"/"})}),2e3))}else e.$q.notify({type:"negative",message:t.data.msg}),clearInterval(e.timer),e.loginCard=!1}))}),1e3)}else e.$q.notify({type:"negative",message:t.data.msg}),e.loginCard=!1}))},logout:function(){var e=this;this.$axios.post("".concat(n.g.config.domain,"/user/logout"),{}).then((function(t){0==t.data.code?e.$q.localStorage.has("userInfo")&&(e.$q.localStorage.remove("userInfo"),e.userName="注册/登陆",e.avatar="/static/not_login_user.png",e.isLogin=!1):e.$q.notify({type:"negative",message:t.data.msg})}))},dialogHide:function(){clearInterval(this.timer),this.isLoadingQr=!1},sortClick:function(e){this.sort=2==e.currentTarget.getAttribute("tabindex")?"时间排序":"推荐排序",this.sortIndex=e.currentTarget.getAttribute("tabindex"),this.$refs["goods-list"].getItemList(this.sortIndex)},isWeixin:function(){return this.$refs["goods-list"].isWeixin()}}},H=n(11639),j=n(20249),D=n(32074),T=n(44458),V=n(63190),M=n(90136),B=n(68879),K=n(16602),N=n(51663),P=n(70335),Y=n(66611),A=n(27234),F=n(81973),O=n(48777),z=n(61357),R=n(10906),G=n(12133),E=n(47817),J=n(73333),X=n(13246),ee=n(490),te=n(76749),ne=n(33115),ae=n(71378),ie=n(50926),oe=n(57661),re=n(62146),le=n(69984),se=n.n(le);const ce=(0,H.Z)(U,[["render",I]]);var ue=ce;se()(U,"components",{QLayout:j.Z,QDialog:D.Z,QCard:T.Z,QCardSection:V.Z,QSpace:M.Z,QBtn:B.Z,QHeader:K.Z,QToolbar:N.Z,QImg:P.Z,QInput:Y.Z,QSpinnerFacebook:A.Z,QToolbarTitle:F.Z,QBtnDropdown:O.Z,QAvatar:z.Z,QDrawer:R.Z,QPageContainer:G.Z,QTabs:E.Z,QRouteTab:J.Z,QList:X.Z,QItem:ee.Z,QItemSection:te.Z,QItemLabel:ne.Z,QFooter:ae.Z,QSeparator:ie.Z,QTab:oe.Z}),se()(U,"directives",{ClosePopup:re.Z})}}]);